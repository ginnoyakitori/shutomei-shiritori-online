<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>国名しりとり</title> <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1 id="main-title">国名しりとり 部屋を選択</h1> <div id="room-selection-screen" class="container">
        <h2 class="section-title">参加可能な部屋一覧</h2> <div id="room-list" class="room-list-container">
            <p>現在、利用可能な部屋はありません。</p>
        </div>

        <div class="room-actions">
            <p class="section-description">または部屋を作成</p> 
            <div class="create-room-section">
                <input type="text" id="create-room-name" placeholder="部屋の名前" class="input-field">
                <input type="text" id="create-nickname" placeholder="あなたのニックネーム" class="input-field">
                <button id="create-room-btn" class="button primary-button">部屋を作成</button>
            </div>
            
            <div class="join-room-section">
                <input type="text" id="join-room-id" placeholder="部屋IDを入力" class="input-field">
                <input type="text" id="join-nickname" placeholder="あなたのニックネーム" class="input-field">
                <button id="join-room-btn" class="button secondary-button">部屋に参加</button>
            </div>
        </div>
    </div>

    <div id="room-lobby" class="container" style="display:none;">
        <h2 id="lobby-room-name"></h2>
        <p>部屋ID: <span id="lobby-room-id"></span></p>
        <div id="players-in-room" class="players-list">
            <h3>参加プレイヤー:</h3>
            <ul>
                </ul>
        </div>

        <div id="host-controls" style="display:none;">
            <h3>クイズタイプを選択:</h3>
            <div class="quiz-type-selection">
                <button id="select-kokumei" class="button quiz-select-button">国名しりとり</button>
                <button id="select-shutomei" class="button quiz-select-button">首都名しりとり</button>
            </div>
            <p id="selected-quiz-display">選択中のクイズ: 未選択</p>
            <button id="toggle-visibility-btn" class="button secondary-button">部屋を非表示にする</button>
            <button id="start-game-btn" class="button primary-button" disabled>ゲーム開始</button>
        </div>

        <div class="lobby-actions">
            <button id="set-ready-btn" class="button secondary-button">準備完了</button>
            <button id="leave-room-btn" class="button alert-button">部屋を退出</button>
        </div>
    </div>

    <div id="quiz-box" class="container quiz-container" style="display:none;">
        <div class="quiz-header">
            <span id="question-number">1 / 10</span>
            <span id="timer">0.00秒</span>
        </div>
        <h2 id="question"></h2>
        <input type="text" id="answer" placeholder="答えを入力" class="input-field">
        <div id="flick-grid" class="flick-keyboard" style="display:none;">
            </div>
        <div id="control-row" class="control-buttons" style="display:none;">
            <button id="clear-btn" class="button clear-button">消</button>
            <button id="modify-btn" class="button modify-button">濁小</button>
        </div>
        <p id="feedback"></p>
        <button id="submit-btn" class="button primary-button">解答</button>
    </div>

    <div id="result-box" class="container result-container" style="display:none;">
        <h2>ゲーム終了！</h2>
        <p id="final-result-message"></p>
        <p id="your-score">あなたのスコア: 0点</p>
        <h3>最終スコア:</h3>
        <ul id="final-scores" class="final-scores-list">
            </ul>
        <button id="return-to-lobby-btn" class="button primary-button">ロビーに戻る</button>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script type="module" src="client.js"></script>
</body>
</html>